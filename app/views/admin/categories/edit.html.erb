<h1>Edit Category</h1>

<div class="mb-3">
  <%= link_to 'Back to Categories', admin_categories_path, class: 'btn btn-secondary' %>
</div>

<%= form_with model: @category, url: admin_category_path(@category), local: true, class: "needs-validation" do |f| %>
  <div class="mb-3">
    <%= f.label :name, class: "form-label" %>
    <%= f.text_field :name, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= f.label :image, "Upload Image", class: "form-label" %>
    <%= f.file_field :image, class: "form-control" %>
  </div>

  <% if @category.image.attached? %>
    <div class="mb-3">
      <p>Current Image:</p>
      <%= image_tag rails_blob_path(@category.image, only_path: true), class: "img-thumbnail", size: "100x100" %>
    </div>
  <% else %>
    <p class="text-danger">No image uploaded</p>
  <% end %>

  <div class="mb-3">
    <%= f.submit "Update Category", class: "btn btn-success" %>
  </div>
<% end %>
