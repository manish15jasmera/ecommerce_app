<h1 class="text-center my-4 text-primary">Categories</h1>

<div class="d-flex justify-content-between align-items-center mb-4">
  <%= link_to 'New Category', new_admin_category_path, class: 'btn btn-primary' %>
  <%= link_to 'Back to Dashboard', admin_dashboard_path, class: 'btn btn-secondary' %>
</div>

<table class="table table-striped table-bordered shadow-sm">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Image</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @categories.each do |category| %>
      <tr>
        <td><%= category.name %></td>
        <td class="text-center">
          <% if category.image.attached? %>
            <%= image_tag rails_blob_path(category.image, only_path: true), class: 'img-thumbnail', style: "max-width: 100px; max-height: 100px;" %>
          <% else %>
            <span class="text-muted">No image uploaded</span>
          <% end %>
        </td>
        <td class="d-flex gap-2">
          <%= link_to 'Edit', edit_admin_category_path(category), class: 'btn btn-sm btn-warning' %>
          <%= link_to 'Delete', admin_category_path(category), data: { turbo_method: :delete, turbo_confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
